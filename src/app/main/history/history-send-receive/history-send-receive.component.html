<div class="ae-table">
  <div class="primeng-datatable-container col-12" [busyIf]="primengTableHelper.isLoading">
    <p-table
      #dataTable
      (onLazyLoad)="getAllMemberRequests($event)"
      [value]="primengTableHelper.records"
      rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"
      [paginator]="false"
      [lazy]="true"
      [scrollable]="true"
      ScrollWidth="100%"
      [responsive]="primengTableHelper.isResponsive"
      [resizableColumns]="primengTableHelper.resizableColumns"
    >
      <ng-template pTemplate="header">
          <tr>
            <th>
                {{ l('Active') }}
            </th>
            <th>
                {{ l('Tipo') }}
            </th>
            <th>
              {{ l('Cantidad') }}
            </th>
            <th>
                {{ l('Total USD') }}
            </th>
            <th>
                {{ l('Date') }}
            </th>
            <th>
                {{ l('Estado') }}
            </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-record="$implicit" let-i="rowIndex">
        <tr>
          <td>
            <div class="flex align-items-center">
              <div class="mr-4">
                  <img
                      src="/assets/crypto-icons/{{ record.cryptoCurrency.key | lowercase }}.png"
                      class="crypto-icon-table"
                      alt="{{ record.cryptoCurrency.key }}"
                  />
              </div>
              <div class="ae-text__coin">
                  <p class="m-0 ae-text-dark ae-text-default">{{ record.cryptoCurrency.name }}</p>
                  <span class="ae-text-gris-dark ae-text-default">{{ record.cryptoCurrency.key }}</span>
              </div>
          </div>
          </td>
          <td class="ae-text-gris-dark ae-text-default">
            {{ l(requestType[record.request.type]) }}
          </td>
          <td class="ae-text-gris-dark ae-text-default">
            {{ record.request.cost | number : '1.0-6' : 'en' }}
          </td>
          <td class="ae-text-gris-dark ae-text-default">
            {{ record.request.amount | currency : 'USD' : 'symbol' : '1.2-5' : 'en' }}
          </td>
          <td class="ae-text-gris-dark ae-text-default">
            {{  getDateTimeFormat(record.request.creationTime) }} </td>
          <td
            class="ae-text-grisdark"
            [class.ae-text-success]="record.request.status === 2"
            [class.ae-text-danger]="record.request.status === 3">
            {{ l(requestStatus[record.request.status]) }}
          </td>
        </tr>
      </ng-template>
    </p-table>
    <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
      {{ l('NoData') }}
    </div>
    <div class="primeng-paging-container">
        <p-paginator
            [rows]="primengTableHelper.defaultRecordsCountPerPage"
            #paginator
            (onPageChange)="getAllMemberRequests($event)"
            [totalRecords]="primengTableHelper.totalRecordsCount"
            [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage"
            [showCurrentPageReport]="true"
            [currentPageReportTemplate]="
                'TotalRecordsCount' | localize : primengTableHelper.totalRecordsCount
            "
        ></p-paginator>
    </div>
  </div>
</div>