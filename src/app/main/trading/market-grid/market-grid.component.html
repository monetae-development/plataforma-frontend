<div class="ae-table mt-8">
    <div class="primeng-datatable-container" [busyIf]="primengTableHelper.isLoading">
        <p-table
            #dataTable
            (onLazyLoad)="getAll($event)"
            [value]="primengTableHelper.records"
            rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"
            [paginator]="false"
            [lazy]="true"
            [scrollable]="true"
            ScrollWidth="100%"
            selectionMode="single"
            dataKey="id"
            [responsive]="primengTableHelper.isResponsive"
            [resizableColumns]="primengTableHelper.resizableColumns"
            [filterDelay]="0"
            [globalFilterFields]="['tradingCryptoCurrency.name', 'tradingCryptoCurrency.key']"
        >
            <ng-template pTemplate="header">
                <tr>
                    <th>
                        {{ l('Active') }}
                    </th>
                    <th>
                        {{ l('Price') }}
                    </th>
                    <th>
                        {{ l('Graphic') }}
                    </th>
                    <th>
                        {{ l('24H') }}
                    </th>
                    <th style="width: 100px">
                        <!-- {{ l('Actions') }} -->
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-record="$implicit" let-i="rowIndex">
                <tr [pSelectableRow]="record.tradingCryptoCurrency">
                    <td>
                        <div class="flex align-items-center">
                            <div class="mr-4">
                                <img
                                    src="/assets/crypto-icons/{{ record.tradingCryptoCurrency.key | lowercase }}.png"
                                    class="crypto-icon-table"
                                    alt="{{ record.tradingCryptoCurrency.key }}"
                                />
                            </div>
                            <div class="ae-text__coin">
                                <p class="m-0 ae-text-dark">{{ record.tradingCryptoCurrency.name }}</p>
                                <span class="ae-text-gris-dark">{{ record.tradingCryptoCurrency.key }}</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <span class="ae-text-gris-dark">
                            {{
                                record.tradingCryptoCurrency.purchasePrice
                                    | currency : 'USD' : 'symbol' : '1.2-5' : 'en'
                            }}
                        </span>
                    </td>
                    <td>
                        <div *ngIf="record.tradingCryptoCurrency.behavior === behavior.Up">
                            <img src="/assets/common/images/icon-line-up.png" alt="Monetae" />
                        </div>
                        <div *ngIf="record.tradingCryptoCurrency.behavior === behavior.Down">
                            <img src="/assets/common/images/icon-line-down.png" alt="Monetae" />
                        </div>
                    </td>

                    <td>
                        <span
                            [class.text-success]="record.tradingCryptoCurrency.behavior === behavior.Up"
                            [class.text-danger]="record.tradingCryptoCurrency.behavior === behavior.Down"
                        >
                            {{ record.tradingCryptoCurrency.behavior === behavior.Up ? '+' : '' }}
                            {{ record.tradingCryptoCurrency.change24h }}%
                        </span>
                    </td>
                    <td>
                        <button
                            class="btn btn-info btn-sm btn-style-secondary"
                            (click)="onSelectRecord(record.tradingCryptoCurrency.id)"
                        >
                            {{ 'Invest' | localize }}
                        </button>
                    </td>

                    <td></td>
                </tr>
            </ng-template>
        </p-table>
        <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
            {{ l('NoData') }}
        </div>
    </div>
</div>
