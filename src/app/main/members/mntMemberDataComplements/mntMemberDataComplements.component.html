<div [@routerTransition]>
    <div
        *ngIf="
            !completed &&
            (memberStatus == memberStatusEnum.Register || memberStatus == memberStatusEnum.Refused) &&
            checkSessionAndComplemented
        "
    >
        <div
            *ngIf="memberStatus == memberStatusEnum.Refused && feedback != null"
            class="ae-container__kyc ae-container--sm alert alert-info mt-4"
            [innerHTML]="l('KycRequestRefusedFeedbackTitle') + feedback"
        ></div>
        <div
            class="ae-container__kyc ae-container--sm"
            [class.mt-4]="feedback != undefined || feedback != null"
            *ngIf="step0VerifyAccount"
        >
            <div class="ae-container__header">
                <div class="ae-header__title mb-5">
                    <h2 class="ae-text-dark ae-text-xlarge m-0">Completar registro KYC</h2>
                </div>
                <div class="ae-header__content">
                    <p class="ae-text-default ae-text-black">{{ 'InstruccionsMemberDataComplements' | localize }}</p>
                </div>
            </div>
            <div class="ae-container__content">
                <form [formGroup]="residenceForm">
                    <div class="ae-select mb-10">
                        <label>País de residencia *</label>
                        <div class="formgroup-control">
                            <p-dropdown
                                #residenceCountry
                                formControlName="residenceCountry"
                                [(ngModel)]="memberPersonalData.residenceCountryId"
                                [disabled]="true"
                                [options]="residenceDataCountries"
                                placeholder="{{ 'Loading' | localize }}"
                                [showClear]="true"
                                [filter]="true"
                            ></p-dropdown>
                            <div class="spin-validation">
                                <spinSuccess
                                    *ngIf="
                                        residenceForm.controls['residenceCountry'].valid &&
                                        residenceForm.controls['residenceCountry'].dirty
                                    "
                                ></spinSuccess>
                                <spinError
                                    *ngIf="
                                        !residenceForm.controls['residenceCountry'].valid &&
                                        residenceForm.controls['residenceCountry'].dirty
                                    "
                                ></spinError>
                            </div>
                        </div>
                    </div>
                </form>
                <p class="ae-text-default ae-text-gris-dark mb-8">
                    Completa los siguientes pasos para verificar tu cuenta en
                    <strong>5 minutos</strong>
                </p>
                <div class="ae-steps__verify">
                    <div class="ae-steps__item flex align-items-center">
                        <i class="pi pi-user ae-text-gris-dark ae-text-medium mr-3"></i>
                        <p class="ae-text-gris-dark ae-text-default m-0">{{ 'PersonalDataTitle' | localize }}</p>
                    </div>
                    <div class="ae-steps__item flex align-items-center">
                        <i class="pi pi-map ae-text-gris-dark ae-text-medium mr-3"></i>
                        <p class="ae-text-gris-dark ae-text-default m-0">{{ 'AddressTitle' | localize }}</p>
                    </div>
                    <div class="ae-steps__item flex align-items-center">
                        <i class="pi pi-id-card ae-text-gris-dark ae-text-medium mr-3"></i>
                        <p class="ae-text-gris-dark ae-text-default m-0">{{ 'IdentityPersonalTitle' | localize }}</p>
                    </div>
                    <div class="ae-steps__item flex align-items-center">
                        <i class="pi pi-chart-line ae-text-gris-dark ae-text-medium mr-3"></i>
                        <p class="ae-text-gris-dark ae-text-default m-0">{{ 'EconomicInfoTitle' | localize }}</p>
                    </div>
                </div>
            </div>
            <div class="ae-container__actions">
                <button type="button" class="btn btn-primary w-100" (click)="nextStep(0)">
                    {{ l('Next2') }}
                </button>
            </div>
        </div>
        <div
            class="ae-container__kyc ae-container--md"
            [class.mt-4]="feedback != undefined || feedback != null"
            *ngIf="step1VerifyAccount"
        >
            <div class="ae-container__header">
                <div class="ae-header__title flex align-items-center justify-content-between">
                    <div class="ae-text flex align-items-center">
                        <i class="pi pi-arrow-left ae-text-dark ae-text-medium mr-5" (click)="backStep(0)"></i>
                        <h2 class="ae-text-dark ae-text-xlarge m-0">{{ 'PersonalDataTitle' | localize }}</h2>
                    </div>
                    <div class="ae-steps">
                        <h2 class="ae-text-dark ae-text-xlarge m-0">1/4</h2>
                    </div>
                </div>
            </div>
            <div class="ae-container__content">
                <form [formGroup]="personalDataForm">
                    <div class="ae-form__grid">
                        <div class="ae-input">
                            <label>{{ 'FirstName' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #memberName
                                    formControlName="memberName"
                                    [(ngModel)]="user.name"
                                    placeholder="{{ 'FirstName' | localize }}"
                                    class="form-control"
                                    minlength="3"
                                    maxlength="64"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            personalDataForm.controls['memberName'].valid &&
                                            personalDataForm.controls['memberName'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !personalDataForm.controls['memberName'].valid &&
                                            personalDataForm.controls['memberName'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>Apellido(s) *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #memberSurname
                                    formControlName="memberSurname"
                                    [(ngModel)]="user.surname"
                                    placeholder="Apellido(s)"
                                    class="form-control"
                                    minlength="3"
                                    maxlength="64"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            personalDataForm.controls['memberSurname'].valid &&
                                            personalDataForm.controls['memberSurname'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !personalDataForm.controls['memberSurname'].valid &&
                                            personalDataForm.controls['memberSurname'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-selectinput">
                            <label>{{ 'PhoneNumber' | localize }} *</label>
                            <div class="flex align-items-start">
                                <p-dropdown
                                    #memberPhoneCode
                                    formControlName="memberPhoneCode"
                                    [(ngModel)]="memberPersonalData.phoneCodeId"
                                    [disabled]="true"
                                    [options]="personalDataPhones"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [filter]="true"
                                >
                                    <ng-template pTemplate="selectedItem">
                                        <div class="d-flex align-items-center" *ngIf="memberPersonalData.phoneCodeId">
                                            <div>
                                                <img
                                                    src="/assets/flags/{{
                                                        flags[memberPersonalData.phoneCodeId].subtitle
                                                    }}.png"
                                                    style="height: 14px"
                                                />
                                            </div>
                                            <div class="ms-2">
                                                {{ flags[memberPersonalData.phoneCodeId].label }}
                                            </div>
                                        </div>
                                    </ng-template>

                                    <ng-template let-flag pTemplate="item">
                                        <div class="d-flex align-items-center">
                                            <div>
                                                <img
                                                    src="/assets/flags/{{ flags[flag.value].subtitle }}.png"
                                                    style="height: 14px"
                                                />
                                            </div>
                                            <div class="ms-2">
                                                {{ flags[flag.value].label }}
                                            </div>
                                        </div>
                                    </ng-template>
                                </p-dropdown>
                                <div class="formgroup-control">
                                    <input
                                        type="text"
                                        #memberPhone
                                        formControlName="memberPhone"
                                        [(ngModel)]="memberPersonalData.phone"
                                        placeholder="929552746"
                                        class="form-control"
                                        maxlength="10"
                                        max="10"
                                        mask="0*"
                                    />
                                    <div class="spin-validation">
                                        <spinSuccess
                                            *ngIf="
                                                personalDataForm.controls['memberPhone'].valid &&
                                                personalDataForm.controls['memberPhone'].dirty
                                            "
                                        ></spinSuccess>
                                        <spinError
                                            *ngIf="
                                                !personalDataForm.controls['memberPhone'].valid &&
                                                personalDataForm.controls['memberPhone'].dirty
                                            "
                                        ></spinError>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ae-select">
                            <label>{{ l('CatNationality') }} *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #memberNationality
                                    formControlName="memberNationality"
                                    [(ngModel)]="memberPersonalData.catNationalityId"
                                    [disabled]="true"
                                    [options]="personalDataNationalities"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            personalDataForm.controls['memberNationality'].valid &&
                                            personalDataForm.controls['memberNationality'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !personalDataForm.controls['memberNationality'].valid &&
                                            personalDataForm.controls['memberNationality'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-calendar">
                            <label>Fecha de nacimiento *</label>
                            <div class="formgroup-control">
                                <p-calendar
                                    #memberDayOfBirth
                                    formControlName="memberDayOfBirth"
                                    placeholder="05/11/1955"
                                    [(ngModel)]="_memberDayOfBirth"
                                    dateFormat="dd/mm/yy"
                                    [showIcon]="true"
                                    required
                                ></p-calendar>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            personalDataForm.controls['memberDayOfBirth'].valid &&
                                            personalDataForm.controls['memberDayOfBirth'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !personalDataForm.controls['memberDayOfBirth'].valid &&
                                            personalDataForm.controls['memberDayOfBirth'].dirty
                                        "
                                    ></spinError>
                                </div>
                                <div
                                    *ngIf="
                                        !personalDataForm.controls['memberDayOfBirth'].valid &&
                                        personalDataForm.controls['memberDayOfBirth'].dirty
                                    "
                                    class="text-danger feedback-error"
                                >
                                    {{ 'MustBeOfLegalAge' | localize }}
                                </div>
                            </div>
                        </div>

                        <div class="ae-input">
                            <label>Sitio web</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #memberWebsite
                                    formControlName="memberWebsite"
                                    [(ngModel)]="memberPersonalData.website"
                                    placeholder="https://www.misitioweb.com"
                                    class="form-control"
                                    minlength="3"
                                    maxlength="255"
                                />
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="ae-container__actions flex align-items-center justify-content-end">
                <button type="button" class="btn btn-primary btn-max-width" (click)="nextStep(1)">
                    {{ l('Next2') }}
                </button>
            </div>
        </div>
        <div
            class="ae-container__kyc ae-container--md"
            [class.mt-4]="feedback != undefined || feedback != null"
            *ngIf="step2VerifyAccount"
        >
            <div class="ae-container__header">
                <div class="ae-header__title flex align-items-center justify-content-between">
                    <div class="ae-text flex align-items-center">
                        <i class="pi pi-arrow-left ae-text-dark ae-text-medium mr-5" (click)="backStep(1)"></i>
                        <h2 class="ae-text-dark ae-text-xlarge m-0">{{ 'AddressTitle' | localize }}</h2>
                    </div>
                    <div class="ae-steps">
                        <h2 class="ae-text-dark ae-text-xlarge m-0">2/4</h2>
                    </div>
                </div>
            </div>
            <div class="ae-container__content mb-2">
                <form [formGroup]="addressForm">
                    <div class="ae-form__grid">
                        <div class="ae-select">
                            <label>{{ l('CatCountry') }} *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #addressCountry
                                    formControlName="addressCountry"
                                    [(ngModel)]="memberAddressCountryId"
                                    [disabled]="true"
                                    [options]="addressCountries"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                    (onChange)="onAddressChangeCountry()"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressCountry'].valid &&
                                            addressForm.controls['addressCountry'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressCountry'].valid &&
                                            addressForm.controls['addressCountry'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-select">
                            <label>Estado/Departamento *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #addressState
                                    formControlName="addressState"
                                    [(ngModel)]="memberAddress.catStateId"
                                    [options]="addressStates"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                    [disabled]="true"
                                    emptyMessage="{{ 'PrimeNGEmptyMessage' | localize }}"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressState'].valid &&
                                            addressForm.controls['addressState'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressState'].valid &&
                                            addressForm.controls['addressState'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>{{ 'City' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #addressCity
                                    formControlName="addressCity"
                                    [(ngModel)]="memberAddress.city"
                                    placeholder="{{ 'City' | localize }}"
                                    class="form-control"
                                    maxlength="32"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressCity'].valid &&
                                            addressForm.controls['addressCity'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressCity'].valid &&
                                            addressForm.controls['addressCity'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>{{ 'Street' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #addressStreet
                                    formControlName="addressStreet"
                                    [(ngModel)]="memberAddress.street"
                                    placeholder="{{ 'Street' | localize }}"
                                    class="form-control"
                                    maxlength="32"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressStreet'].valid &&
                                            addressForm.controls['addressStreet'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressStreet'].valid &&
                                            addressForm.controls['addressStreet'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>Número *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #addressExteriorNo
                                    formControlName="addressExteriorNo"
                                    [(ngModel)]="memberAddress.exteriorNo"
                                    placeholder="Número"
                                    class="form-control"
                                    maxlength="10"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressExteriorNo'].valid &&
                                            addressForm.controls['addressExteriorNo'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressExteriorNo'].valid &&
                                            addressForm.controls['addressExteriorNo'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>{{ 'ZipCode' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #addressZipCode
                                    formControlName="addressZipCode"
                                    [(ngModel)]="memberAddress.zipCode"
                                    placeholder="{{ 'ZipCode' | localize }}"
                                    class="form-control"
                                    maxlength="32"
                                    mask="0*"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressZipCode'].valid &&
                                            addressForm.controls['addressZipCode'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressZipCode'].valid &&
                                            addressForm.controls['addressZipCode'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-upload ae-grid--fullwidth">
                            <label for="addressProof">
                                Adjuntar comprobante de domicilio *
                                <span class="ae-text-default ae-text-gris-dark">
                                    {{ 'AddressProofDetails' | localize }}
                                </span>
                                <br />
                            </label>
                            <p-fileUpload
                                #addressFileProof
                                id="addressFileProof"
                                name="addressFileProof"
                                accept="image/*,application/pdf"
                                [maxFileSize]="maxFileSize"
                                [multiple]="false"
                                mode="advanced"
                                (onSelect)="onUploadFile($event, 'UploadAddressProof')"
                                (onBeforeSend)="onBeforeSend($event)"
                                (onRemove)="onRemoveFile($event, 'UploadAddressProof')"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                                invalidFileSizeMessageDetail="{{ l('ErrorFileMemberUploadLimit') }}: {0}"
                                [class.upload-completed]="uploadFileAddressProof"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">{{ l('FileUpload') }}</p>
                                    </div>
                                </ng-template>
                            </p-fileUpload>
                            <div
                                *ngIf="uploadFileAddressProof"
                                class="fileupload-file-info d-flex justify-content-between px-10 mt-10"
                            >
                                <span class="pt-2">{{ uploadedFiles['UploadAddressProof'].fileName }}</span>
                                <span class="pt-2" *ngIf="uploadedFiles['UploadAddressProof'].fileSize != ''">
                                    {{ uploadedFiles['UploadAddressProof'].fileSize }} KB
                                </span>
                                <button
                                    class="btn btn-info btn-sm btn-only-icon btn-style-secondary"
                                    (click)="onClearUploadFileAddressProof()"
                                >
                                    <i class="fa fa-close"></i>
                                </button>
                            </div>
                            <div *ngIf="!uploadFileAddressProof" class="fw-bold error-message text-danger">
                                {{ l('RequiredFileError') }}
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="ae-container__actions flex align-items-center justify-content-end">
                <button
                    type="button"
                    class="btn btn-primary btn-max-width"
                    (click)="nextStep(2)"
                    [disabled]="!addressForm.valid || !uploadFileAddressProof"
                >
                    {{ l('Next2') }}
                </button>
            </div>
        </div>
        <div
            class="ae-container__kyc ae-container--md"
            [class.mt-4]="feedback != undefined || feedback != null"
            *ngIf="step3VerifyAccount"
        >
            <div class="ae-container__header">
                <div class="ae-header__title flex align-items-center justify-content-between">
                    <div class="ae-text flex align-items-center">
                        <i class="pi pi-arrow-left ae-text-dark ae-text-medium mr-5" (click)="backStep(2)"></i>
                        <h2 class="ae-text-dark ae-text-xlarge m-0">{{ 'IdentityPersonalTitle' | localize }}</h2>
                    </div>
                    <div class="ae-steps">
                        <h2 class="ae-text-dark ae-text-xlarge m-0">3/4</h2>
                    </div>
                </div>
            </div>
            <div class="ae-container__content">
                <form [formGroup]="identityForm">
                    <div class="ae-form__grid">
                        <div class="ae-select ae-orden__two">
                            <label>{{ l('CatIdentityType') }} *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #identityType
                                    formControlName="identityType"
                                    [(ngModel)]="memberIdentity.catIdentityTypeId"
                                    [disabled]="true"
                                    [options]="identityTypes"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            identityForm.controls['identityType'].valid &&
                                            identityForm.controls['identityType'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !identityForm.controls['identityType'].valid &&
                                            identityForm.controls['identityType'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-select ae-orden__one">
                            <label>País Emisor *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #identityIssuingCountry
                                    formControlName="identityIssuingCountry"
                                    [(ngModel)]="memberIdentity.issuingCountryId"
                                    [disabled]="true"
                                    [options]="identityDataCountries"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            identityForm.controls['identityIssuingCountry'].valid &&
                                            identityForm.controls['identityIssuingCountry'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !identityForm.controls['identityIssuingCountry'].valid &&
                                            identityForm.controls['identityIssuingCountry'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input ae-orden__three">
                            <label>{{ 'IdentityId' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #identityId
                                    formControlName="identityId"
                                    [(ngModel)]="memberIdentity.identityId"
                                    placeholder="{{ 'IdentityId' | localize }}"
                                    class="form-control"
                                    maxlength="32"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            identityForm.controls['identityId'].valid &&
                                            identityForm.controls['identityId'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !identityForm.controls['identityId'].valid &&
                                            identityForm.controls['identityId'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-calendar ae-orden__four">
                            <label>{{ 'ExpirationDate' | localize }} *</label>
                            <div class="formgroup-control">
                                <p-calendar
                                    #identityExpiration
                                    formControlName="identityExpiration"
                                    placeholder="08/06/2029"
                                    [(ngModel)]="_memberIdentityExpiration"
                                    [minDate]="minDate"
                                    dateFormat="dd/mm/yy"
                                    [showIcon]="true"
                                    required
                                ></p-calendar>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            identityForm.controls['identityExpiration'].valid &&
                                            identityForm.controls['identityExpiration'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !identityForm.controls['identityExpiration'].valid &&
                                            identityForm.controls['identityExpiration'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-upload ae-orden__five">
                            <label for="identityFileFront">{{ 'IdentityFrontPicture' | localize }}</label>
                            <p-fileUpload
                                #identityFileFront
                                id="identityFileFront"
                                name="identityFileFront"
                                accept="image/*,application/pdf"
                                [maxFileSize]="maxFileSize"
                                [multiple]="false"
                                mode="advanced"
                                (onSelect)="onUploadFile($event, 'UploadIdentityFront')"
                                (onBeforeSend)="onBeforeSend($event)"
                                (onRemove)="onRemoveFile($event, 'UploadIdentityFront')"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                                invalidFileSizeMessageDetail="{{ l('ErrorFileMemberUploadLimit') }}: {0}"
                                [class.upload-completed]="uploadFileIdentityFront"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">{{ l('FileUpload') }}</p>
                                    </div>
                                </ng-template>
                            </p-fileUpload>
                            <div
                                *ngIf="uploadFileIdentityFront"
                                class="fileupload-file-info d-flex justify-content-between px-10 mt-10"
                            >
                                <span class="pt-2">{{ uploadedFiles['UploadIdentityFront'].fileName }}</span>
                                <span class="pt-2" *ngIf="uploadedFiles['UploadIdentityFront'].fileSize != ''">
                                    {{ uploadedFiles['UploadIdentityFront'].fileSize }} KB
                                </span>
                                <button
                                    class="btn btn-info btn-sm btn-only-icon btn-style-secondary"
                                    (click)="onClearUploadFileIdentityFront()"
                                >
                                    <i class="fa fa-close"></i>
                                </button>
                            </div>
                            <div *ngIf="!uploadFileIdentityFront" class="fw-bold error-message text-danger">
                                {{ l('RequiredFileError') }}
                            </div>
                        </div>
                        <div class="ae-upload ae-orden__six">
                            <label for="identityFileBack">{{ 'IdentityBackPicture' | localize }}</label>
                            <p-fileUpload
                                #identityFileBack
                                fileLimit="1"
                                id="identityFileBack"
                                name="identityFileBack"
                                accept="image/*,application/pdf"
                                [maxFileSize]="maxFileSize"
                                [multiple]="false"
                                mode="advanced"
                                (onSelect)="onUploadFile($event, 'UploadIdentityBack')"
                                (onBeforeSend)="onBeforeSend($event)"
                                (onRemove)="onRemoveFile($event, 'UploadIdentityBack')"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                                invalidFileSizeMessageDetail="{{ l('ErrorFileMemberUploadLimit') }}: {0}"
                                [class.upload-completed]="uploadFileIdentityBack"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">{{ l('FileUpload') }}</p>
                                    </div>
                                </ng-template>
                            </p-fileUpload>
                            <div
                                *ngIf="uploadFileIdentityBack"
                                class="fileupload-file-info d-flex justify-content-between px-10 mt-10"
                            >
                                <span class="pt-2">{{ uploadedFiles['UploadIdentityBack'].fileName }}</span>
                                <span class="pt-2">{{ uploadedFiles['UploadIdentityBack'].fileSize }} KB</span>
                                <button
                                    class="btn btn-info btn-sm btn-only-icon btn-style-secondary"
                                    (click)="onClearUploadFileIdentityBack()"
                                >
                                    <i class="fa fa-close"></i>
                                </button>
                            </div>
                            <div *ngIf="!uploadFileIdentityBack" class="fw-bold error-message text-danger">
                                {{ l('RequiredFileError') }}
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="ae-container__actions flex align-items-center justify-content-end">
                <button
                    type="button"
                    class="btn btn-primary btn-max-width"
                    (click)="nextStep(3)"
                    [disabled]="!identityForm.valid || !uploadFileIdentityFront || !uploadFileIdentityBack"
                >
                    {{ l('Next2') }}
                </button>
            </div>
        </div>
        <div
            class="ae-container__kyc ae-container--md"
            [class.mt-4]="feedback != undefined || feedback != null"
            *ngIf="step4VerifyAccount"
        >
            <div class="ae-container__header">
                <div class="ae-header__title flex align-items-center justify-content-between">
                    <div class="ae-text flex align-items-center">
                        <i class="pi pi-arrow-left ae-text-dark ae-text-medium mr-5" (click)="backStep(3)"></i>
                        <h2 class="ae-text-dark ae-text-xlarge m-0">{{ 'EconomicInfoTitle' | localize }}</h2>
                    </div>
                    <div class="ae-steps">
                        <h2 class="ae-text-dark ae-text-xlarge m-0">4/4</h2>
                    </div>
                </div>
            </div>
            <div class="ae-container__content">
                <form [formGroup]="economicInfoForm">
                    <div class="ae-form__grid">
                        <div class="ae-select">
                            <label>Profesión u Oficio *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #economicInfoProfession
                                    formControlName="economicInfoProfession"
                                    [(ngModel)]="memberEconomicInfo.catProfessionId"
                                    [disabled]="true"
                                    [options]="economicInfoProfessions"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoProfession'].valid &&
                                            economicInfoForm.controls['economicInfoProfession'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoProfession'].valid &&
                                            economicInfoForm.controls['economicInfoProfession'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>{{ 'MonthlyIncome' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #economicInfoIncome
                                    formControlName="economicInfoIncome"
                                    [(ngModel)]="memberEconomicInfo.income"
                                    placeholder="{{ 'MonthlyIncome' | localize }}"
                                    class="form-control"
                                    prefix="$"
                                    mask="separator"
                                    thousandSeparator=","
                                    [validation]="true"
                                    minlength="2"
                                    maxlength="32"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoIncome'].valid &&
                                            economicInfoForm.controls['economicInfoIncome'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoIncome'].valid &&
                                            economicInfoForm.controls['economicInfoIncome'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-select">
                            <label>{{ l('CatSourceFoundses') }} *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #economicInfoSourceFounds
                                    formControlName="economicInfoSourceFounds"
                                    [(ngModel)]="memberEconomicInfo.catSourceFoundsId"
                                    [disabled]="true"
                                    [options]="economicInfoSourceFoundses"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoSourceFounds'].valid &&
                                            economicInfoForm.controls['economicInfoSourceFounds'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoSourceFounds'].valid &&
                                            economicInfoForm.controls['economicInfoSourceFounds'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>Monto estimado de operaciones que realizará mensualmente *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #economicInfoExpectedTransactions
                                    formControlName="economicInfoExpectedTransactions"
                                    [(ngModel)]="memberEconomicInfo.expectedTransactions"
                                    class="form-control"
                                    prefix="$"
                                    mask="separator"
                                    thousandSeparator=","
                                    [validation]="true"
                                    minlength="1"
                                    maxlength="32"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoExpectedTransactions'].valid &&
                                            economicInfoForm.controls['economicInfoExpectedTransactions'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoExpectedTransactions'].valid &&
                                            economicInfoForm.controls['economicInfoExpectedTransactions'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>

                        <div class="ae-input ae-grid--fullwidth mb-0 pb-0">
                            <div class="row mb-3">
                                <p class="ae-text-label ae-text-default mb-3">¿Posee otros ingresos? *</p>
                            </div>
                            <div class="ae-radiobutton flex align-items-center">
                                <div class="ae-radiobutton__item mr-8">
                                    <p-radioButton
                                        #economicInfoHaveExtraIncome
                                        formControlName="economicInfoHaveExtraIncome"
                                        [value]="true"
                                        label="Si"
                                        [(ngModel)]="ishaveExtraIncome"
                                        (onClick)="disableControlsPep()"
                                    ></p-radioButton>
                                </div>
                                <div class="ae-radiobutton__item">
                                    <p-radioButton
                                        #economicInfoHaveExtraIncome
                                        formControlName="economicInfoHaveExtraIncome"
                                        [value]="false"
                                        label="No"
                                        [(ngModel)]="ishaveExtraIncome"
                                        (onClick)="disableControlsPep()"
                                    ></p-radioButton>
                                </div>
                                <div class="col-2 pt-10">
                                    <div class="spin-validation">
                                        <spinSuccess
                                            *ngIf="
                                                economicInfoForm.controls['economicInfoHaveExtraIncome'].valid &&
                                                economicInfoForm.controls['economicInfoHaveExtraIncome'].dirty
                                            "
                                        ></spinSuccess>
                                        <spinError
                                            *ngIf="
                                                !economicInfoForm.controls['economicInfoHaveExtraIncome'].valid &&
                                                economicInfoForm.controls['economicInfoHaveExtraIncome'].dirty
                                            "
                                        ></spinError>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="ae-input mt-0 py-0" *ngIf="ishaveExtraIncome">
                            <label>Detallar procedencia *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #economicInfoExtraIncomeDetails
                                    formControlName="economicInfoExtraIncomeDetails"
                                    [(ngModel)]="memberEconomicInfo.extraIncomeDetails"
                                    placeholder="Detallar procedencia"
                                    class="form-control"
                                    *ngIf="ishaveExtraIncome"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoExtraIncomeDetails'].valid &&
                                            economicInfoForm.controls['economicInfoExtraIncomeDetails'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoExtraIncomeDetails'].valid &&
                                            economicInfoForm.controls['economicInfoExtraIncomeDetails'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>

                        <div class="ae-input mt-0 py-0" *ngIf="ishaveExtraIncome">
                            <label>Monto *</label>
                            <div class="formgroup-control">
                                <p-inputNumber
                                    #economicInfoExtraIncomeAmount
                                    formControlName="economicInfoExtraIncomeAmount"
                                    [(ngModel)]="memberEconomicInfo.extraIncomeAmount"
                                    placeholder="$"
                                    mode="currency"
                                    currency="USD"
                                    locale="en-US"
                                ></p-inputNumber>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoExtraIncomeAmount'].valid &&
                                            economicInfoForm.controls['economicInfoExtraIncomeAmount'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoExtraIncomeAmount'].valid &&
                                            economicInfoForm.controls['economicInfoExtraIncomeAmount'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>

                        <div class="ae-input">
                            <label>Ventas anuales en dólares *</label>
                            <div class="formgroup-control">
                                <p-inputNumber
                                    #economicInfoYearlySalesAmount
                                    formControlName="economicInfoYearlySalesAmount"
                                    [(ngModel)]="memberEconomicInfo.yearlySalesAmount"
                                    placeholder="$"
                                    mode="currency"
                                    currency="USD"
                                    locale="en-US"
                                ></p-inputNumber>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoYearlySalesAmount'].valid &&
                                            economicInfoForm.controls['economicInfoYearlySalesAmount'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoYearlySalesAmount'].valid &&
                                            economicInfoForm.controls['economicInfoYearlySalesAmount'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>

                        <div class="ae-input">
                            <label>Ventas al cierre del año anterior *</label>
                            <div class="formgroup-control">
                                <p-inputNumber
                                    #economicInfoPreviousSalesAmount
                                    formControlName="economicInfoPreviousSalesAmount"
                                    [(ngModel)]="memberEconomicInfo.previousSalesAmount"
                                    placeholder="$"
                                    mode="currency"
                                    currency="USD"
                                    locale="en-US"
                                ></p-inputNumber>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoPreviousSalesAmount'].valid &&
                                            economicInfoForm.controls['economicInfoPreviousSalesAmount'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoPreviousSalesAmount'].valid &&
                                            economicInfoForm.controls['economicInfoPreviousSalesAmount'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>

                        <div class="ae-upload ae-grid--fullwidth mb-0">
                            <label for="economicInfoFileIncomeProof">
                                {{ 'ProofIncome' | localize }} *
                                <span class="ae-text-default ae-text-gris-dark">
                                    {{ 'ProofIncomeDetails' | localize }}
                                </span>
                                <br />
                            </label>
                            <p-fileUpload
                                #economicInfoFileIncomeProof
                                id="economicInfoFileIncomeProof"
                                name="economicInfoFileIncomeProof"
                                accept="image/*,application/pdf"
                                [maxFileSize]="maxFileSize"
                                [multiple]="false"
                                mode="advanced"
                                (onSelect)="onUploadFile($event, 'UploadIncomeProof')"
                                (onBeforeSend)="onBeforeSend($event)"
                                (onRemove)="onRemoveFile($event, 'UploadIncomeProof')"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                                invalidFileSizeMessageDetail="{{ l('ErrorFileMemberUploadLimit') }}: {0}"
                                [class.upload-completed]="uploadFileIncomeProof"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">{{ l('FileUpload') }}</p>
                                    </div>
                                </ng-template>
                            </p-fileUpload>
                            <div
                                *ngIf="uploadFileIncomeProof"
                                class="fileupload-file-info d-flex justify-content-between px-10 mt-10"
                            >
                                <span class="pt-2">{{ uploadedFiles['UploadIncomeProof'].fileName }}</span>
                                <span class="pt-2" *ngIf="uploadedFiles['UploadIncomeProof'].fileSize != ''">
                                    {{ uploadedFiles['UploadIncomeProof'].fileSize }} KB
                                </span>
                                <button
                                    class="btn btn-info btn-sm btn-only-icon btn-style-secondary"
                                    (click)="onClearUploadFileIncomeProof()"
                                >
                                    <i class="fa fa-close"></i>
                                </button>
                            </div>
                            <div *ngIf="!uploadFileIncomeProof" class="fw-bold error-message text-danger">
                                {{ l('RequiredFileError') }}
                            </div>
                        </div>

                        <div class="ae-upload ae-grid--fullwidth">
                            <label for="economicInfoFileTaxReturn">
                                {{ 'TaxReturn' | localize }} (últimos 2 años, deben ser los inmediatos anteriores).
                                <br />
                                <span class="ae-text-default ae-text-gris-dark">
                                    {{ 'TaxReturnDetails' | localize }}
                                </span>
                            </label>
                            <p-fileUpload
                                #economicInfoFileTaxReturn
                                fileLimit="1"
                                id="economicInfoFileTaxReturn"
                                name="economicInfoFileTaxReturn"
                                accept="image/*,application/pdf"
                                [maxFileSize]="maxFileSize"
                                [multiple]="false"
                                mode="advanced"
                                (onSelect)="onUploadFile($event, 'UploadTaxReturn')"
                                (onBeforeSend)="onBeforeSend($event)"
                                (onRemove)="onRemoveFile($event, 'UploadTaxReturn')"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                                invalidFileSizeMessageDetail="{{ l('ErrorFileMemberUploadLimit') }}: {0}"
                                [class.upload-completed]="uploadFileTaxReturn"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">{{ l('FileUpload') }}</p>
                                    </div>
                                </ng-template>
                            </p-fileUpload>
                            <div
                                *ngIf="uploadFileTaxReturn"
                                class="fileupload-file-info d-flex justify-content-between px-10 mt-10"
                            >
                                <span class="pt-2">{{ uploadedFiles['UploadTaxReturn'].fileName }}</span>
                                <span class="pt-2" *ngIf="uploadedFiles['UploadTaxReturn'].fileSize != ''">
                                    {{ uploadedFiles['UploadTaxReturn'].fileSize }} KB
                                </span>
                                <button
                                    class="btn btn-info btn-sm btn-only-icon btn-style-secondary"
                                    (click)="onClearUploadFileTaxReturn()"
                                >
                                    <i class="fa fa-close"></i>
                                </button>
                            </div>
                            <div *ngIf="!uploadFileTaxReturn" class="fw-bold error-message text-danger">
                                {{ l('RequiredFileError') }}
                            </div>
                        </div>

                        <div class="ae-upload ae-grid--fullwidth">
                            <label for="economicInfoFileTaxRecord">
                                Documento de Registro Fiscal (personas naturales con negocio propio)
                            </label>
                            <p-fileUpload
                                #economicInfoFileTaxRecord
                                fileLimit="1"
                                id="economicInfoFileTaxRecord"
                                name="economicInfoFileTaxRecord"
                                accept="image/*,application/pdf"
                                [maxFileSize]="maxFileSize"
                                [multiple]="false"
                                mode="advanced"
                                (onSelect)="onUploadFile($event, 'UploadTaxRecord')"
                                (onBeforeSend)="onBeforeSend($event)"
                                (onRemove)="onRemoveFile($event, 'UploadTaxRecord')"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                                invalidFileSizeMessageDetail="{{ l('ErrorFileMemberUploadLimit') }}: {0}"
                                [class.upload-completed]="uploadFileTaxRecord"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">{{ l('FileUpload') }}</p>
                                    </div>
                                </ng-template>
                            </p-fileUpload>
                            <div
                                *ngIf="uploadFileTaxRecord"
                                class="fileupload-file-info d-flex justify-content-between px-10 mt-10"
                            >
                                <span class="pt-2">{{ uploadedFiles['UploadTaxRecord'].fileName }}</span>
                                <span class="pt-2" *ngIf="uploadedFiles['UploadTaxRecord'].fileSize != ''">
                                    {{ uploadedFiles['UploadTaxRecord'].fileSize }} KB
                                </span>
                                <button
                                    class="btn btn-info btn-sm btn-only-icon btn-style-secondary"
                                    (click)="onClearUploadFileTaxRecord()"
                                >
                                    <i class="fa fa-close"></i>
                                </button>
                            </div>
                        </div>

                        <div class="ae-upload ae-grid--fullwidth">
                            <label for="economicInfoFileLegalOriginFounds">
                                Documentos que respalden el origen lícito de los fondos con los cuales pretende realizar
                                operaciones con Monetae
                            </label>
                            <p-fileUpload
                                #economicInfoFileLegalOriginFounds
                                fileLimit="1"
                                id="economicInfoFileLegalOriginFounds"
                                name="economicInfoFileLegalOriginFounds"
                                accept="image/*,application/pdf"
                                [maxFileSize]="maxFileSize"
                                [multiple]="false"
                                mode="advanced"
                                (onSelect)="onUploadFile($event, 'UploadLegalOriginFounds')"
                                (onBeforeSend)="onBeforeSend($event)"
                                (onRemove)="onRemoveFile($event, 'UploadLegalOriginFounds')"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                                invalidFileSizeMessageDetail="{{ l('ErrorFileMemberUploadLimit') }}: {0}"
                                [class.upload-completed]="uploadFileLegalOriginFounds"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">{{ l('FileUpload') }}</p>
                                    </div>
                                </ng-template>
                            </p-fileUpload>
                            <div
                                *ngIf="uploadFileLegalOriginFounds"
                                class="fileupload-file-info d-flex justify-content-between px-10 mt-10"
                            >
                                <span class="pt-2">{{ uploadedFiles['UploadLegalOriginFounds'].fileName }}</span>
                                <span class="pt-2" *ngIf="uploadedFiles['UploadLegalOriginFounds'].fileSize != ''">
                                    {{ uploadedFiles['UploadLegalOriginFounds'].fileSize }} KB
                                </span>
                                <button
                                    class="btn btn-info btn-sm btn-only-icon btn-style-secondary"
                                    (click)="onClearUploadFileLegalOriginFounds()"
                                >
                                    <i class="fa fa-close"></i>
                                </button>
                            </div>
                            <div *ngIf="!uploadFileLegalOriginFounds" class="fw-bold error-message text-danger">
                                {{ l('RequiredFileError') }}
                            </div>
                        </div>
                    </div>
                </form>

                <form [formGroup]="pepForm">
                    <div class="row mb-3">
                        <p class="ae-text-label ae-text-default mb-3">{{ 'IsPepAnswer' | localize }}</p>
                        <span class="ae-text-xsmall ae-text-gris-dark">{{ 'PepNotice' | localize }}</span>
                    </div>
                    <div class="ae-radiobutton flex align-items-center">
                        <div class="ae-radiobutton__item mr-8">
                            <p-radioButton
                                #pep
                                formControlName="pep"
                                [value]="true"
                                label="Soy PEP"
                                [(ngModel)]="isPep"
                                (onClick)="disableControlsPep()"
                            ></p-radioButton>
                        </div>
                        <div class="ae-radiobutton__item">
                            <p-radioButton
                                #pep
                                formControlName="pep"
                                [value]="false"
                                label="No soy PEP"
                                [(ngModel)]="isPep"
                                (onClick)="disableControlsPep()"
                            ></p-radioButton>
                        </div>
                        <div class="col-2 pt-10">
                            <div class="spin-validation">
                                <spinSuccess
                                    *ngIf="pepForm.controls['pep'].valid && pepForm.controls['pep'].dirty"
                                ></spinSuccess>
                                <spinError
                                    *ngIf="!pepForm.controls['pep'].valid && pepForm.controls['pep'].dirty"
                                ></spinError>
                            </div>
                        </div>
                    </div>

                    <div class="ae-radiobutton flex align-items-center">
                        <div class="ae-radiobutton__item mr-8">
                            <div class="d-flex flex-row">
                                <div class="me-4">
                                    <p-checkbox
                                        #swornDeclaration
                                        formControlName="swornDeclaration"
                                        inputId="swornDeclaration"
                                        [(ngModel)]="isSwornDeclaration"
                                        [value]="true"
                                        class="float-start mt-4"
                                    ></p-checkbox>
                                </div>

                                <div>
                                    <label for="swornDeclaration">
                                        Confirmo que los fondos que usaré en esta plataforma son legítimos y que toda la
                                        información y documentos proporcionados son exactos y veraces.
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-2 pt-10">
                            <div class="spin-validation" style="top: -15px">
                                <spinSuccess
                                    *ngIf="
                                        pepForm.controls['swornDeclaration'].valid &&
                                        pepForm.controls['swornDeclaration'].dirty
                                    "
                                ></spinSuccess>
                                <spinError
                                    *ngIf="
                                        !pepForm.controls['swornDeclaration'].valid &&
                                        pepForm.controls['swornDeclaration'].dirty
                                    "
                                ></spinError>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="ae-container__actions flex align-items-center justify-content-end">
                <button
                    type="button"
                    class="btn btn-primary btn-max-width"
                    [disabled]="
                        !economicInfoForm.valid || !pepForm.valid || !uploadFileIncomeProof || !uploadFileTaxReturn
                    "
                    [buttonBusy]="saving"
                    [busyText]="l('SavingWithThreeDot')"
                    (click)="onSave()"
                >
                    {{ l('Finish') }}
                </button>
            </div>
        </div>
    </div>
</div>
