<div [@routerTransition]>
    <div *ngIf="isMemberComplemented && checkSessionAndComplemented" class="mt-20 mb-20">
        <div class="ae-container__kyc ae-container--sm">
            <h3 class="text-primary text-center mb-5">
                {{ 'ThankYou' | localize }}
                <br />
                <br />
                {{ 'ComplementedDataCompletedTitle' | localize }}!
            </h3>
            <div class="alert alert-info">
                {{ 'ComplementedDataCompletedMessage' | localize }}
            </div>
        </div>
    </div>
    <div *ngIf="!completed && !isMemberComplemented && checkSessionAndComplemented">
        <div class="ae-container__kyc ae-container--sm" *ngIf="step0VerifyAccount">
            <div class="ae-container__header">
                <div class="ae-header__title mb-5">
                    <h2 class="ae-text-dark ae-text-xlarge m-0">Completar registro KYC</h2>
                </div>
                <div class="ae-header__content">
                    <p class="ae-text-default ae-text-black">{{ 'InstruccionsMemberDataComplements' | localize }}</p>
                </div>
            </div>
            <div class="ae-container__content">
                <form [formGroup]="residenceForm">
                    <div class="ae-select mb-10">
                        <label>País de residencia *</label>
                        <div class="formgroup-control">
                            <p-dropdown 
                                #residenceCountry 
                                formControlName="residenceCountry" 
                                [(ngModel)]="memberPersonalData.residenceCountryId" 
                                [disabled]="true"
                                [options]="residenceDataCountries"
                                placeholder="{{ 'Loading' | localize }}"
                                [showClear]="true"
                                [filter]="true"
                            ></p-dropdown>
                            <div class="spin-validation">
                                <spinSuccess
                                    *ngIf="
                                        residenceForm.controls['residenceCountry'].valid &&
                                        residenceForm.controls['residenceCountry'].dirty
                                    "
                                ></spinSuccess>
                                <spinError
                                    *ngIf="
                                        !residenceForm.controls['residenceCountry'].valid &&
                                        residenceForm.controls['residenceCountry'].dirty
                                    "
                                ></spinError>
                            </div>
                        </div>
                    </div>
                </form>
                <p class="ae-text-default ae-text-gris-dark mb-8">Completa los siguientes pasos para verificar tu cuenta en <strong>5 minutos</strong></p>
                <div class="ae-steps__verify">
                    <div class="ae-steps__item flex align-items-center">
                        <i class="pi pi-user ae-text-gris-dark ae-text-medium  mr-3"></i>
                        <p class="ae-text-gris-dark ae-text-default m-0">{{ 'PersonalDataTitle' | localize }}</p>
                    </div>
                    <div class="ae-steps__item flex align-items-center">
                        <i class="pi pi-map ae-text-gris-dark ae-text-medium mr-3"></i>
                        <p class="ae-text-gris-dark ae-text-default m-0">{{ 'AddressTitle' | localize }}</p>
                    </div>
                    <div class="ae-steps__item flex align-items-center">
                        <i class="pi pi-id-card ae-text-gris-dark ae-text-medium mr-3"></i>
                        <p class="ae-text-gris-dark ae-text-default m-0">{{ 'IdentityPersonalTitle' | localize }}</p>
                    </div>
                    <div class="ae-steps__item flex align-items-center">
                        <i class="pi pi-chart-line ae-text-gris-dark ae-text-medium mr-3"></i>
                        <p class="ae-text-gris-dark ae-text-default m-0">{{ 'EconomicInfoTitle' | localize }}</p>
                    </div>
                </div>
            </div>
            <div class="ae-container__actions">
                <p-button class="ae-button ae-button--primary w-full ae-text-default" label="Siguiente" (click)="nextStep(0)"></p-button>
            </div>
        </div>
        <div class="ae-container__kyc ae-container--md" *ngIf="step1VerifyAccount">
            <div class="ae-container__header">
                <div class="ae-header__title flex align-items-center justify-content-between">
                    <div class="ae-text flex align-items-center">
                        <i class="pi pi-arrow-left ae-text-dark ae-text-medium mr-5" (click)="backStep(0)"></i>
                        <h2 class="ae-text-dark ae-text-xlarge m-0">{{ 'PersonalDataTitle' | localize }}</h2>
                    </div>
                    <div class="ae-steps">
                        <h2 class="ae-text-dark ae-text-xlarge m-0">1/4</h2>
                    </div>
                </div>
            </div>
            <div class="ae-container__content">
                <form [formGroup]="personalDataForm">
                    <div class="ae-form__grid">
                        <div class="ae-input">
                            <label>{{ 'FirstName' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #memberName
                                    formControlName="memberName"
                                    [(ngModel)]="user.name"
                                    placeholder="{{ 'FirstName' | localize }}"
                                    class="form-control"
                                    minlength="3"
                                    maxlength="64"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            personalDataForm.controls['memberName'].valid &&
                                            personalDataForm.controls['memberName'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !personalDataForm.controls['memberName'].valid &&
                                            personalDataForm.controls['memberName'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>Apellido(s) *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #memberSurname
                                    formControlName="memberSurname"
                                    [(ngModel)]="user.surname"
                                    placeholder="Apellido(s)"
                                    class="form-control"
                                    minlength="3"
                                    maxlength="64"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            personalDataForm.controls['memberSurname'].valid &&
                                            personalDataForm.controls['memberSurname'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !personalDataForm.controls['memberSurname'].valid &&
                                            personalDataForm.controls['memberSurname'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-selectinput">
                            <label>{{ 'PhoneNumber' | localize }} *</label>
                            <div class="flex align-items-start">
                                <p-dropdown
                                    #memberPhoneCode
                                    formControlName="memberPhoneCode"
                                    [(ngModel)]="memberPhoneCodeId"
                                    [disabled]="true"
                                    [options]="personalDataPhones" 
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="formgroup-control">
                                    <input
                                        type="text"
                                        #memberPhone
                                        formControlName="memberPhone"
                                        [(ngModel)]="user.phoneNumber"
                                        placeholder="929552746"
                                        class="form-control"
                                        maxlength="32"
                                    />
                                    <div class="spin-validation">
                                        <spinSuccess
                                            *ngIf="
                                                personalDataForm.controls['memberPhone'].valid &&
                                                personalDataForm.controls['memberPhone'].dirty
                                            "
                                        ></spinSuccess>
                                        <spinError
                                            *ngIf="
                                                !personalDataForm.controls['memberPhone'].valid &&
                                                personalDataForm.controls['memberPhone'].dirty
                                            "
                                        ></spinError>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ae-select">
                            <label>{{ l('CatNationality') }} *</label>
                            <div class="formgroup-control">
                                <p-dropdown 
                                    #memberNationality 
                                    formControlName="memberNationality" 
                                    [(ngModel)]="memberPersonalData.catNationalityId" 
                                    [disabled]="true"
                                    [options]="personalDataNationalities" 
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            personalDataForm.controls['memberNationality'].valid &&
                                            personalDataForm.controls['memberNationality'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !personalDataForm.controls['memberNationality'].valid &&
                                            personalDataForm.controls['memberNationality'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-calendar">
                            <label>Fecha de nacimiento *</label>
                            <div class="formgroup-control">
                                <p-calendar
                                    #memberDayOfBirth
                                    formControlName="memberDayOfBirth"
                                    placeholder="05/11/1955"
                                    [(ngModel)]="memberPersonalData.dayOfBirth"
                                    dateFormat="dd/mm/yy"
                                    [showIcon]="true"
                                    required
                                ></p-calendar>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            personalDataForm.controls['memberDayOfBirth'].valid &&
                                            personalDataForm.controls['memberDayOfBirth'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !personalDataForm.controls['memberDayOfBirth'].valid &&
                                            personalDataForm.controls['memberDayOfBirth'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="ae-container__actions flex align-items-center justify-content-end">
                <p-button class="ae-button ae-button--primary" label="Siguiente" (click)="nextStep(1)"></p-button>
            </div>
        </div>
        <div class="ae-container__kyc ae-container--md" *ngIf="step2VerifyAccount">
            <div class="ae-container__header">
                <div class="ae-header__title flex align-items-center justify-content-between">
                    <div class="ae-text flex align-items-center">
                        <i class="pi pi-arrow-left ae-text-dark ae-text-medium mr-5" (click)="backStep(1)"></i>
                        <h2 class="ae-text-dark ae-text-xlarge m-0">{{ 'AddressTitle' | localize }}</h2>
                    </div>
                    <div class="ae-steps">
                        <h2 class="ae-text-dark ae-text-xlarge m-0">2/4</h2>
                    </div>
                </div>
            </div>
            <div class="ae-container__content mb-2">
                <form [formGroup]="addressForm">
                    <div class="ae-form__grid">
                        <div class="ae-select">
                            <label>{{ l('CatCountry') }} *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #addressCountry
                                    formControlName="addressCountry"
                                    [(ngModel)]="memberAddressCountryId"
                                    [disabled]="true"
                                    [options]="addressCountries"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                    (onChange)="onAddressChangeCountry()"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressCountry'].valid &&
                                            addressForm.controls['addressCountry'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressCountry'].valid &&
                                            addressForm.controls['addressCountry'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-select">
                            <label>Provincia/Alcaldía *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #addressState
                                    formControlName="addressState"
                                    [(ngModel)]="memberAddress.catStateId"
                                    [options]="addressStates"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                    [disabled]="true"
                                    emptyMessage="{{ 'PrimeNGEmptyMessage' | localize }}"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressState'].valid &&
                                            addressForm.controls['addressState'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressState'].valid &&
                                            addressForm.controls['addressState'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>{{ 'City' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #addressCity
                                    formControlName="addressCity"
                                    [(ngModel)]="memberAddress.city"
                                    placeholder="{{ 'City' | localize }}"
                                    class="form-control"
                                    maxlength="32"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressCity'].valid &&
                                            addressForm.controls['addressCity'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressCity'].valid &&
                                            addressForm.controls['addressCity'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>{{ 'Street' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #addressStreet
                                    formControlName="addressStreet"
                                    [(ngModel)]="memberAddress.street"
                                    placeholder="{{ 'Street' | localize }}"
                                    class="form-control"
                                    maxlength="32"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressStreet'].valid &&
                                            addressForm.controls['addressStreet'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressStreet'].valid &&
                                            addressForm.controls['addressStreet'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>Número *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #addressExteriorNo
                                    formControlName="addressExteriorNo"
                                    [(ngModel)]="memberAddress.exteriorNo"
                                    placeholder="Número"
                                    class="form-control"
                                    maxlength="10"
                                    mask="0*"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressExteriorNo'].valid &&
                                            addressForm.controls['addressExteriorNo'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressExteriorNo'].valid &&
                                            addressForm.controls['addressExteriorNo'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>{{ 'ZipCode' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #addressZipCode
                                    formControlName="addressZipCode"
                                    [(ngModel)]="memberAddress.zipCode"
                                    placeholder="{{ 'ZipCode' | localize }}"
                                    class="form-control"
                                    maxlength="32"
                                    mask="0*"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            addressForm.controls['addressZipCode'].valid &&
                                            addressForm.controls['addressZipCode'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !addressForm.controls['addressZipCode'].valid &&
                                            addressForm.controls['addressZipCode'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-upload ae-grid--fullwidth">
                            <label for="addressProof">
                                Adjuntar comprobante de domicilio *
                                <span class="details">{{ 'AddressProofDetails' | localize }}</span>
                                <br />
                            </label>
                            <p-fileUpload
                                id="addressProof"
                                name="addressProof"
                                accept="image/*,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-fontobject,application/pdf"
                                maxFileSize="10000000"
                                fileLimit="1"
                                [url]="uploadUrl"
                                (onUpload)="onUploadFileAddressProof($event)"
                                (onBeforeSend)="onBeforeSend($event)"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">Cargar archivo</p>
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="content">
                                    <ul *ngIf="uploadedAddressProof.length">
                                        <li *ngFor="let file of uploadedAddressProof">
                                            <div class="flex flex-column">
                                                <p>{{ file.name }}</p>
                                                <small>{{ file.size }} bytes</small>
                                            </div>
                                        </li>
                                    </ul>
                                </ng-template>
                            </p-fileUpload>
                        </div>
                    </div>
                </form>
            </div>
            <div class="ae-container__actions flex align-items-center justify-content-end">
                <p-button class="ae-button ae-button--primary" label="Siguiente" (click)="nextStep(2)"></p-button>
            </div>
        </div>
        <div class="ae-container__kyc ae-container--md" *ngIf="step3VerifyAccount">
            <div class="ae-container__header">
                <div class="ae-header__title flex align-items-center justify-content-between">
                    <div class="ae-text flex align-items-center">
                        <i class="pi pi-arrow-left ae-text-dark ae-text-medium mr-5" (click)="backStep(2)"></i>
                        <h2 class="ae-text-dark ae-text-xlarge m-0">{{ 'IdentityPersonalTitle' | localize }}</h2>
                    </div>
                    <div class="ae-steps">
                        <h2 class="ae-text-dark ae-text-xlarge m-0">3/4</h2>
                    </div>
                </div>
            </div>
            <div class="ae-container__content">
                <form [formGroup]="identityForm">
                    <div class="ae-form__grid">
                        <div class="ae-select">
                            <label>{{ l('CatIdentityType') }} *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #identityType
                                    formControlName="identityType"
                                    [(ngModel)]="memberIdentity.catIdentityTypeId"
                                    [disabled]="true"
                                    [options]="identityTypes"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            identityForm.controls['identityType'].valid &&
                                            identityForm.controls['identityType'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !identityForm.controls['identityType'].valid &&
                                            identityForm.controls['identityType'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-select">
                            <label>País Emisor *</label>
                            <div class="formgroup-control">
                                <p-dropdown 
                                    #identityIssuingCountry 
                                    formControlName="identityIssuingCountry"
                                    [(ngModel)]="memberIdentity.issuingCountryId"
                                    [disabled]="true"
                                    [options]="personalDataNationalities"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            identityForm.controls['identityIssuingCountry'].valid &&
                                            identityForm.controls['identityIssuingCountry'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !identityForm.controls['identityIssuingCountry'].valid &&
                                            identityForm.controls['identityIssuingCountry'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>{{ 'IdentityId' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #identityId
                                    formControlName="identityId"
                                    [(ngModel)]="memberIdentity.identityId"
                                    placeholder="{{ 'IdentityId' | localize }}"
                                    class="form-control"
                                    maxlength="32"
                                    pattern="^(?!\s)(.*\S)?(?<!\s)$"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            identityForm.controls['identityId'].valid &&
                                            identityForm.controls['identityId'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !identityForm.controls['identityId'].valid &&
                                            identityForm.controls['identityId'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-calendar">
                            <label>{{ 'ExpirationDate' | localize }} *</label>
                            <div class="formgroup-control">
                                <p-calendar
                                    #identityExpiration
                                    formControlName="identityExpiration"
                                    placeholder="08/06/2029"
                                    [(ngModel)]="memberIdentity.expiration"
                                    [minDate]="minDate"
                                    dateFormat="dd/mm/yy"
                                    [showIcon]="true"
                                    required
                                ></p-calendar>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            identityForm.controls['identityExpiration'].valid &&
                                            identityForm.controls['identityExpiration'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !identityForm.controls['identityExpiration'].valid &&
                                            identityForm.controls['identityExpiration'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-upload">
                            <label for="identityFrontPicture">{{ 'IdentityFrontPicture' | localize }}</label>
                            <p-fileUpload
                                id="identityFrontPicture"
                                name="identityFrontPicture"
                                accept="image/*"
                                maxFileSize="10000000"
                                fileLimit="1"
                                [url]="uploadUrl"
                                (onUpload)="onUploadFile($event, uploadedFront)"
                                (onBeforeSend)="onBeforeSend($event)"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">Cargar archivo</p>
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="content">
                                    <ul *ngIf="uploadedFront.length">
                                        <li *ngFor="let file of uploadedFront">
                                            <div class="flex flex-column">
                                                <p>{{ file.name }}</p>
                                                <small>{{ file.size }} bytes</small>
                                            </div>
                                        </li>
                                    </ul>
                                </ng-template>
                            </p-fileUpload>
                        </div>
                        <div class="ae-upload">
                            <label for="identityBackPicture">{{ 'IdentityBackPicture' | localize }}</label>
                            <p-fileUpload
                                fileLimit="1"
                                id="identityBackPicture"
                                name="identityBackPicture"
                                accept="image/*"
                                maxFileSize="10000000"
                                [url]="uploadUrl"
                                (onUpload)="onUploadFile($event, uploadedBack)"
                                (onBeforeSend)="onBeforeSend($event)"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">Cargar archivo</p>
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="content">
                                    <ul *ngIf="uploadedBack.length">
                                        <li *ngFor="let file of uploadedBack">
                                            <div class="flex flex-column">
                                                <p>{{ file.name }}</p>
                                                <small>{{ file.size }} bytes</small>
                                            </div>
                                        </li>
                                    </ul>
                                </ng-template>
                            </p-fileUpload>
                        </div>
                    </div>
                </form>
            </div>
            <div class="ae-container__actions flex align-items-center justify-content-end">
                <p-button class="ae-button ae-button--primary" label="Siguiente" (click)="nextStep(3)"></p-button>
            </div>
        </div>
        <div class="ae-container__kyc ae-container--md" *ngIf="step4VerifyAccount">
            <div class="ae-container__header">
                <div class="ae-header__title flex align-items-center justify-content-between">
                    <div class="ae-text flex align-items-center">
                        <i class="pi pi-arrow-left ae-text-dark ae-text-medium mr-5" (click)="backStep(3)"></i>
                        <h2 class="ae-text-dark ae-text-xlarge m-0">{{ 'EconomicInfoTitle' | localize }}</h2>
                    </div>
                    <div class="ae-steps">
                        <h2 class="ae-text-dark ae-text-xlarge m-0">4/4</h2>
                    </div>
                </div>
            </div>
            <div class="ae-container__content">
                <form [formGroup]="economicInfoForm">
                    <div class="ae-form__grid">
                        <div class="ae-select">
                            <label>{{ l('CatProfession') }} *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #economicInfoProfession
                                    formControlName="economicInfoProfession"
                                    [(ngModel)]="memberEconomicInfo.catProfessionId"
                                    [disabled]="true"
                                    [options]="economicInfoProfessions"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoProfession'].valid &&
                                            economicInfoForm.controls['economicInfoProfession'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoProfession'].valid &&
                                            economicInfoForm.controls['economicInfoProfession'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>{{ 'MonthlyIncome' | localize }} *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #economicInfoIncome
                                    formControlName="economicInfoIncome"
                                    [(ngModel)]="memberEconomicInfo.income"
                                    placeholder="{{ 'MonthlyIncome' | localize }}"
                                    class="form-control"
                                    prefix="$"
                                    mask="separator"
                                    thousandSeparator=","
                                    [validation]="true"
                                    minlength="2"
                                    maxlength="32"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoIncome'].valid &&
                                            economicInfoForm.controls['economicInfoIncome'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoIncome'].valid &&
                                            economicInfoForm.controls['economicInfoIncome'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-select">
                            <label>{{ l('CatSourceFoundses') }} *</label>
                            <div class="formgroup-control">
                                <p-dropdown
                                    #economicInfoSourceFounds
                                    formControlName="economicInfoSourceFounds"
                                    [(ngModel)]="memberEconomicInfo.catSourceFoundsId"
                                    [disabled]="true"
                                    [options]="economicInfoSourceFoundses"
                                    placeholder="{{ 'SelectAnItemDropdown' | localize }}"
                                    [showClear]="true"
                                    [filter]="true"
                                ></p-dropdown>
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoSourceFounds'].valid &&
                                            economicInfoForm.controls['economicInfoSourceFounds'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoSourceFounds'].valid &&
                                            economicInfoForm.controls['economicInfoSourceFounds'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-input">
                            <label>Estimado de operaciones en USD *</label>
                            <div class="formgroup-control">
                                <input
                                    type="text"
                                    #economicInfoExpectedTransactions
                                    formControlName="economicInfoExpectedTransactions"
                                    [(ngModel)]="memberEconomicInfo.expectedTransactions"
                                    placeholder="{{ 'MonthlyExpectedTransactions' | localize }}"
                                    class="form-control"
                                    prefix="$"
                                    mask="separator"
                                    thousandSeparator=","
                                    [validation]="true"
                                    maxlength="32"
                                />
                                <div class="spin-validation">
                                    <spinSuccess
                                        *ngIf="
                                            economicInfoForm.controls['economicInfoExpectedTransactions']
                                                .valid &&
                                            economicInfoForm.controls['economicInfoExpectedTransactions'].dirty
                                        "
                                    ></spinSuccess>
                                    <spinError
                                        *ngIf="
                                            !economicInfoForm.controls['economicInfoExpectedTransactions']
                                                .valid &&
                                            economicInfoForm.controls['economicInfoExpectedTransactions'].dirty
                                        "
                                    ></spinError>
                                </div>
                            </div>
                        </div>
                        <div class="ae-upload ae-grid--fullwidth mb-0">
                            <label for="economicInfoProofIncome">
                                {{ 'ProofIncome' | localize }} *
                                <span class="details">{{ 'ProofIncomeDetails' | localize }}</span>
                                <br />
                            </label>
                            <p-fileUpload
                                id="economicInfoProofIncome"
                                name="economicInfoProofIncome"
                                accept="image/*,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-fontobject,application/pdf"
                                maxFileSize="10000000"
                                fileLimit="1"
                                [url]="uploadUrl"
                                (onUpload)="onUploadFile($event, uploadedProofIncome)"
                                (onBeforeSend)="onBeforeSend($event)"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">Cargar archivo</p>
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="content">
                                    <ul *ngIf="uploadedProofIncome.length">
                                        <li *ngFor="let file of uploadedProofIncome">
                                            <div class="flex flex-column">
                                                <p>{{ file.name }}</p>
                                                <small>{{ file.size }} bytes</small>
                                            </div>
                                        </li>
                                    </ul>
                                </ng-template>
                            </p-fileUpload>
                        </div>
                        <div class="ae-upload ae-grid--fullwidth">
                            <label for="economicInfoTaxReturn">
                                {{ 'TaxReturn' | localize }} (últimos 2 años). <br>
                                <span class="details">{{ 'TaxReturnDetails' | localize }}</span>
                            </label>
                            <p-fileUpload
                                fileLimit="1"
                                id="economicInfoTaxReturn"
                                name="economicInfoTaxReturn"
                                accept="image/*,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-fontobject,application/pdf"
                                maxFileSize="10000000"
                                [url]="uploadUrl"
                                (onUpload)="onUploadFile($event, uploadedTaxReturn)"
                                (onBeforeSend)="onBeforeSend($event)"
                                [showUploadButton]="false"
                                [showCancelButton]="false"
                            >
                                <ng-template pTemplate="toolbar">
                                    <div class="ae-upload__header">
                                        <i class="pi pi-cloud-upload ae-text-gris"></i>
                                        <p class="ae-text-gris ae-text-small m-0">Cargar archivo</p>
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="content">
                                    <ul *ngIf="uploadedTaxReturn.length">
                                        <li *ngFor="let file of uploadedTaxReturn">
                                            <div class="flex flex-column">
                                                <p>{{ file.name }}</p>
                                                <small>{{ file.size }} bytes</small>
                                            </div>
                                        </li>
                                    </ul>
                                </ng-template>
                            </p-fileUpload>
                        </div>
                    </div>
                </form>
                <form [formGroup]="pepForm">
                    <div class="row mb-3">
                        <p class="ae-text-gris-dark ae-text-default mb-3">{{ 'IsPepAnswer' | localize }}</p>
                        <span class="ae-text-xsmall ae-text-gris-dark">{{ 'PepNotice' | localize }}</span>
                    </div>
                    <div class="ae-radiobutton flex align-items-center">
                        <div class="ae-radiobutton__item">
                            <p-radioButton
                                #pep
                                formControlName="pep"
                                [value]="true"
                                label="Soy PPE"
                                [(ngModel)]="isPep"
                                (onClick)="disableControlsPep()"
                            ></p-radioButton>
                        </div>
                        <div class="ae-radiobutton__item">
                            <p-radioButton
                                #pep
                                formControlName="pep"
                                [value]="false"
                                label="No soy PPE"
                                [(ngModel)]="isPep"
                                (onClick)="disableControlsPep()"
                            ></p-radioButton>
                        </div>
                        <div class="col-2 pt-10">
                            <div class="spin-validation">
                                <spinSuccess
                                    *ngIf="pepForm.controls['pep'].valid && pepForm.controls['pep'].dirty"
                                ></spinSuccess>
                                <spinError
                                    *ngIf="!pepForm.controls['pep'].valid && pepForm.controls['pep'].dirty"
                                ></spinError>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="ae-container__actions flex align-items-center justify-content-end">
                <p-button class="ae-button ae-button--primary" (click)="onSave()" label="Finalizar"></p-button>
            </div>
        </div>
    </div>