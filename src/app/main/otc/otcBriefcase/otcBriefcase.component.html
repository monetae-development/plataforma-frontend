<div class="ae-table">
    <div class="primeng-datatable-container col-12" [busyIf]="primengTableHelper.isLoading">
      <p-table
        #dataTable
        (onLazyLoad)="getAllMemberPortfolioRequests($event)"
        [value]="primengTableHelper.records"
        rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"
        [paginator]="false"
        [lazy]="true"
        [scrollable]="true"
        ScrollWidth="100%"
        [responsive]="primengTableHelper.isResponsive"
        [resizableColumns]="primengTableHelper.resizableColumns"
      >
        <ng-template pTemplate="header">
          <tr>
            <th>
                {{ l('Active') }}
            </th>
            <th>
                {{ l('Gr√°fico') }}
            </th>
            <th>
                {{ l('Change24h') }}
            </th>
            <th>
                {{ l('% del total') }}
            </th>
            <th>
                {{ l('Cantidad') }}
            </th>
            <th style="width: 100px;">

            </th>
        </tr>
        </ng-template>
        <ng-template pTemplate="body" let-record="$implicit" let-i="rowIndex">
          <tr>
            <td>
              <div class="flex align-items-center">
                <div class="mr-4">
                    <img
                        src="/assets/crypto-icons/{{ record.cryptoCurrency.key | lowercase }}.png"
                        class="crypto-icon-table"
                        alt="{{ record.cryptoCurrency.key }}"
                    />
                </div>
                <div class="ae-text__coin">
                    <p class="m-0 ae-text-dark ae-text-default">{{ record.cryptoCurrency.name }}</p>
                    <span class="ae-text-gris-dark ae-text-default">{{ record.cryptoCurrency.key }}</span>
                </div>
              </div>
            </td>
            <td>
              <div *ngIf="record.request.percent24H > 0; else isDown">
                  <img src="/assets/common/images/icon-line-up.png" alt="Monetae">
                </div>
                <ng-template #isDown>
                  <img src="/assets/common/images/icon-line-down.png" alt="Monetae">
                </ng-template>
            </td>
            <td
              [class.text-success]="record.request.percent24H > 0"
              [class.text-danger]="record.request.percent24H < 0"
            >
              <span class="ae-text-gris-dark">{{ record.request.percent24H }}%</span>
            </td>
            <td class="ae-text-gris-dark ae-text-default">
              {{ record.request.totalPercent }}%
            </td>
            <td class="ae-text-gris-dark ae-text-default">
              {{ record.request.cost | number : '1.0-6' : 'en' }}
            </td>
            <td>
                <div class="flex">
                    <i class="pi pi-ellipsis-v" (click)="menu.toggle($event)"></i>
                    <p-menu #menu [model]="itemsMenu" [popup]="true" class="ae-menuoptions"></p-menu>
                </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
      <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
        {{ l('NoData') }}
      </div>
      <div class="primeng-paging-container">
          <p-paginator
              [rows]="primengTableHelper.defaultRecordsCountPerPage"
              #paginator
              (onPageChange)="getAllMemberPortfolioRequests($event)"
              [totalRecords]="primengTableHelper.totalRecordsCount"
              [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage"
              [showCurrentPageReport]="true"
              [currentPageReportTemplate]="
                  'TotalRecordsCount' | localize : primengTableHelper.totalRecordsCount
              "
          ></p-paginator>
      </div>
    </div>
  </div>