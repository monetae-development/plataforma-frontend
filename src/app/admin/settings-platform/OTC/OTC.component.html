<form class="text-soft mt-4" #otcSettingsForm="ngForm" novalidate (ngSubmit)="save()" autocomplete="off">
    <div class="row">
        <h6 class="mb-4">{{ l('ApiSettings') }}</h6>
        <div class="col-xl-6">
            <div class="form-group mb-10">
                <div class="input-group">
                    <label class="input-group-text">{{ l('ApiUrl') }}</label>
                    <input
                        type="text"
                        #apiUrl="ngModel"
                        name="apiUrl"
                        class="form-control"
                        [(ngModel)]="otcSettings.apiUrl"
                        minlength="10"
                        maxlength="255"
                        required
                    />
                </div>
                <div class="small text-center">{{ l('ApiUrlDefaultValue') }}</div>
                <validation-messages [formCtrl]="apiUrl"></validation-messages>
            </div>
        </div>

        <div class="col-xl-6">
            <div class="form-group mb-10">
                <div class="input-group">
                    <label class="input-group-text">{{ l('ApiKey') }}</label>
                    <input
                        type="text"
                        #apiKey="ngModel"
                        name="apiKey"
                        minlength="10"
                        maxlength="100"
                        class="form-control"
                        [(ngModel)]="otcSettings.apiKey"
                        required
                    />
                </div>
                <validation-messages [formCtrl]="apiKey"></validation-messages>
            </div>
        </div>
    </div>
    <div class="row">
        <h6 class="mb-4">{{ l('FeeSettings') }}</h6>
        <div class="col-lg-6">
            <div class="form-group mb-10">
                <div class="input-group">
                    <label class="input-group-text" id="inputGroup-sizing-default">
                        {{ l('BaseFee') }}
                    </label>
                    <p-inputNumber
                        #baseFee="ngModel"
                        name="baseFee"
                        class="form-control"
                        [(ngModel)]="otcSettings.baseFee"
                        mode="decimal"
                        locale="en-US"
                        [minFractionDigits]="0"
                        [maxFractionDigits]="2"
                        [min]="0"
                        [max]="30"
                        required
                    ></p-inputNumber>
                    <span class="input-group-text">%</span>
                </div>
                <div class="small text-center">{{ l('BaseFeeDefaultValue') }}</div>
                <validation-messages [formCtrl]="baseFee"></validation-messages>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="form-group mb-10">
                <div class="input-group">
                    <label class="input-group-text" id="inputGroup-sizing-default">
                        {{ l('TradingFee') }}
                    </label>
                    <p-inputNumber
                        #tradingFee="ngModel"
                        name="tradingFee"
                        class="form-control"
                        [(ngModel)]="otcSettings.tradingFee"
                        mode="decimal"
                        locale="en-US"
                        [minFractionDigits]="0"
                        [maxFractionDigits]="2"
                        [min]="0"
                        [max]="30"
                        required
                    ></p-inputNumber>
                    <span class="input-group-text">%</span>
                </div>
                <div class="small text-center">{{ l('TradingFeeDefaultValue') }}</div>
                <validation-messages [formCtrl]="tradingFee"></validation-messages>
            </div>
        </div>
    </div>

    <div class="row">
        <h6 class="mb-4">{{ l('TaxSettings') }}</h6>
        <div class="col-md-6">
            <div class="form-group mb-10">
                <div class="input-group">
                    <label class="input-group-text" id="inputGroup-sizing-default">
                        {{ l('Tax') }}
                    </label>
                    <p-inputNumber
                        #tax="ngModel"
                        name="tax"
                        class="form-control"
                        [(ngModel)]="otcSettings.tax"
                        mode="decimal"
                        locale="en-US"
                        [minFractionDigits]="0"
                        [maxFractionDigits]="2"
                        [min]="0"
                        [max]="30"
                        required
                    ></p-inputNumber>
                    <span class="input-group-text">%</span>
                </div>
                <div class="small text-center">{{ l('TaxDefaultValue') }}</div>
                <validation-messages [formCtrl]="tax"></validation-messages>
            </div>
        </div>
    </div>

    <div class="row mb-8">
        <h6 class="mb-4">{{ l('NotifyBySMS') }}</h6>
        <div class="col-md-12">
            <p-chips
                #notifyPhones
                name="notifyPhones"
                separator=","
                [max]="5"
                [allowDuplicate]="false"
                [(ngModel)]="otcSettings.notifyPhones"
            ></p-chips>
        </div>
    </div>
    <div class="row mb-5">
        <h6 class="mb-4">{{ l('NotifyByEmail') }}</h6>
        <div class="col-md-12">
            <p-chips
                #notifyEmails
                name="notifyEmails"
                separator=","
                [max]="5"
                [allowDuplicate]="false"
                [(ngModel)]="otcSettings.notifyEmails"
            ></p-chips>
        </div>
    </div>

    <button
        type="button"
        class="btn btn-secondary btn-sm p-2 f-7 my-2"
        *ngIf="!moreOptionsAreShown"
        (click)="moreOptionsAreShown = !moreOptionsAreShown"
    >
        {{ l('MoreOptions') }}
        <i class="flaticon2-down"></i>
    </button>
    <button
        type="button"
        class="btn btn-secondary btn-sm p-2 f-7 my-2"
        *ngIf="moreOptionsAreShown"
        (click)="moreOptionsAreShown = !moreOptionsAreShown"
    >
        {{ l('LessOptions') }}
        <i class="flaticon2-up"></i>
    </button>

    <div class="row mt-5" [hidden]="!moreOptionsAreShown">
        <div class="col-md-6">
            <div class="form-group mb-10">
                <div class="input-group">
                    <label class="input-group-text" id="inputGroup-sizing-default">
                        {{ l('Currency') }}
                    </label>
                    <input
                        type="text"
                        #currency="ngModel"
                        name="currency"
                        class="form-control"
                        [(ngModel)]="otcSettings.currency"
                        required
                    />
                </div>
                <div class="small text-center">{{ l('CurrencyDefaultValue') }}</div>
                <validation-messages [formCtrl]="currency"></validation-messages>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group mb-10">
                <div class="input-group">
                    <label class="input-group-text" id="inputGroup-sizing-default">
                        {{ l('RedisChannel') }}
                    </label>
                    <input
                        type="text"
                        #redisChannel="ngModel"
                        name="redisChannel"
                        class="form-control"
                        [(ngModel)]="otcSettings.redisChannel"
                        required
                    />
                </div>
                <div class="small text-center">{{ l('RedisChannelDefaultValue') }}</div>
                <validation-messages [formCtrl]="redisChannel"></validation-messages>
            </div>
        </div>
    </div>

    <div class="row justify-content-end mt-5">
        <div class="col-2">
            <button
                type="submit"
                class="btn btn-primary float-end"
                [disabled]="!otcSettingsForm.form.valid"
                [buttonBusy]="saving"
                [busyText]="l('SavingWithThreeDot')"
            >
                <span>{{ l('Save') }}</span>
            </button>
        </div>
    </div>
</form>
